/* ============================================
   CSS Variables - Theme System
   Galaxy Theme: Dark purplish-blues with bright white and pink accents
   ============================================ */
:root {
  /* Galaxy Theme Colors */
  --color-bg-primary: #0a0e27; /* Deep dark purple-blue */
  --color-bg-secondary: #1a1f3a; /* Slightly lighter purple-blue */
  --color-text-primary: #ffffff; /* Bright white */
  --color-text-secondary: #e0e0e0; /* Soft white for secondary text */
  --color-accent-pink: #ff1493; /* Bright pink/magenta */
  --color-accent-purple: #836fff; /* Bright purple */
  --color-accent-blue: #00bfff; /* Bright cyan-blue */
  --color-accent-yellow: #ffe900; /* Bright yellow */

  /* Theme-specific colors (for underlines) */
  --color-contact: #ff1493; /* Bright pink */
  --color-about: #00bfff; /* Bright cyan */
  --color-portfolio: #ffe900; /* Bright yellow */
  --color-home: #836fff; /* Bright purple */
  --color-error: #ff4444; /* Bright red */
  --color-success: #22d900; /* Bright green */

  /* Border/divider colors */
  --color-border: rgba(255, 255, 255, 0.1);
  --color-border-hover: rgba(255, 255, 255, 0.2);

  /* Breakpoints */
  --breakpoint-desktop-min: 875px;
  --breakpoint-mobile-max: 874px;

  /* Gallery */
  --gallery-column-min-width: 250px;
  --gallery-gap: var(--spacing-md);

  /* Spacing Scale */
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;

  /* Typography Scale - Slightly larger for better readability */
  --font-size-base: clamp(
    1.0625rem,
    1rem + 0.3125vw,
    1.125rem
  ); /* 17-18px (increased) */
  --font-size-xs: clamp(0.8125rem, 0.75rem + 0.3125vw, 0.875rem); /* 13-14px */
  --font-size-sm: clamp(0.9375rem, 0.875rem + 0.3125vw, 1rem); /* 15-16px */
  --font-size-lg: clamp(1.125rem, 1.0625rem + 0.3125vw, 1.25rem); /* 18-20px */
  --font-size-xl: clamp(1.25rem, 1.125rem + 0.5vw, 1.5rem); /* 20-24px */
  --font-size-2xl: clamp(1.5rem, 1.375rem + 0.5vw, 2rem); /* 24-32px */

  /* Line Heights - More relaxed for readability */
  --line-height-tight: 1.3;
  --line-height-normal: 1.6;
  --line-height-relaxed: 1.8;

  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-base: 300ms ease-in-out;
  --transition-slow: 500ms ease-in-out;

  /* Focus Styles */
  --focus-outline-width: 3px;
  --focus-outline-offset: 3px;

  /* Fonts */
  /* --font-montserrat is injected by next/font */
}

@layer reset, base, components, utilities;

@layer reset {
  html {
    box-sizing: border-box;
    scroll-behavior: smooth;
    width: 100%;
    max-width: 100vw; /* Prevent html from exceeding viewport */
  }

  *,
  *::after,
  *::before {
    box-sizing: inherit;
  }

  :where(
    html,
    body,
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    ul,
    ol,
    li,
    form,
    fieldset,
    label
  ) {
    margin: 0;
    padding: 0;
  }

  :where(ul, ol, li) {
    font-size: var(--font-size-sm);
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    html {
      scroll-behavior: auto;
    }

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100vw; /* Prevent body from exceeding viewport */
    min-height: 100%;
    margin: 0;
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    font-family:
      var(--font-instrument-sans), 'helvetica-neue', 'arial', sans-serif;
    /* Galaxy gradient - reduced opacity for better readability */
    background: 
      /* Hot pink star cluster (top) */
      radial-gradient(
        ellipse 800px 400px at 50% 0%,
        rgba(255, 20, 147, 0.25) 0%,
        transparent 60%
      ),
      /* Purple nebula swirl (center) */
        radial-gradient(
          ellipse 1200px 800px at 30% 40%,
          rgba(131, 111, 255, 0.2) 0%,
          transparent 70%
        ),
      /* Cyan accent (bottom right) */
        radial-gradient(
          ellipse 600px 600px at 80% 90%,
          rgba(0, 191, 255, 0.15) 0%,
          transparent 60%
        ),
      /* Hot pink accent (bottom left) */
        radial-gradient(
          ellipse 500px 500px at 10% 85%,
          rgba(255, 20, 147, 0.12) 0%,
          transparent 50%
        ),
      /* Base deep space gradient */
        linear-gradient(
          180deg,
          #0a0e27 0%,
          #1a1f3a 15%,
          #2d1b4e 30%,
          #1a1f3a 50%,
          #0f1629 70%,
          #0a0e27 100%
        );
    background-attachment: fixed;
    background-size: 100% 100%;
    color: var(--color-text-primary);
    letter-spacing: 0.01em;
    font-weight: 400;
    position: relative;
    overflow-x: hidden;
  }

  /* Animated stars layer - reduced opacity */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: 
      /* Large bright stars */
      radial-gradient(
        3px 3px at 20% 30%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        3px 3px at 60% 70%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        2px 2px at 50% 50%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        2px 2px at 80% 10%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        3px 3px at 90% 50%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        2px 2px at 10% 90%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        3px 3px at 40% 20%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        2px 2px at 70% 40%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        3px 3px at 30% 80%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      radial-gradient(
        2px 2px at 85% 60%,
        rgba(255, 255, 255, 0.9),
        transparent
      ),
      /* Medium stars */
        radial-gradient(
          2px 2px at 15% 15%,
          rgba(255, 255, 255, 0.7),
          transparent
        ),
      radial-gradient(
        2px 2px at 25% 45%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        2px 2px at 35% 65%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        2px 2px at 45% 25%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        2px 2px at 55% 85%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        2px 2px at 65% 35%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        2px 2px at 75% 75%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      radial-gradient(
        2px 2px at 95% 25%,
        rgba(255, 255, 255, 0.7),
        transparent
      ),
      /* Small twinkling stars */
        radial-gradient(
          1px 1px at 5% 10%,
          rgba(255, 255, 255, 0.6),
          transparent
        ),
      radial-gradient(
        1px 1px at 12% 55%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 18% 75%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 22% 35%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 28% 90%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 32% 15%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 38% 50%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 42% 80%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 48% 30%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 52% 60%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 58% 20%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 62% 70%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 68% 40%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 72% 85%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 78% 25%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 82% 65%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 88% 45%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 92% 15%,
        rgba(255, 255, 255, 0.6),
        transparent
      ),
      radial-gradient(
        1px 1px at 98% 55%,
        rgba(255, 255, 255, 0.6),
        transparent
      );
    background-size: 100% 100%;
    background-repeat: no-repeat;
    pointer-events: none;
    z-index: 0;
    animation: twinkle 4s ease-in-out infinite;
    opacity: 0.8;
  }

  /* Additional stars layer for depth - reduced opacity */
  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      radial-gradient(2px 2px at 8% 20%, rgba(255, 20, 147, 0.6), transparent),
      radial-gradient(
        2px 2px at 15% 60%,
        rgba(131, 111, 255, 0.6),
        transparent
      ),
      radial-gradient(2px 2px at 25% 40%, rgba(0, 191, 255, 0.5), transparent),
      radial-gradient(2px 2px at 35% 80%, rgba(255, 20, 147, 0.5), transparent),
      radial-gradient(
        2px 2px at 45% 30%,
        rgba(131, 111, 255, 0.6),
        transparent
      ),
      radial-gradient(2px 2px at 55% 70%, rgba(0, 191, 255, 0.5), transparent),
      radial-gradient(2px 2px at 65% 50%, rgba(255, 20, 147, 0.6), transparent),
      radial-gradient(
        2px 2px at 75% 10%,
        rgba(131, 111, 255, 0.5),
        transparent
      ),
      radial-gradient(2px 2px at 85% 90%, rgba(0, 191, 255, 0.6), transparent),
      radial-gradient(2px 2px at 95% 30%, rgba(255, 20, 147, 0.5), transparent);
    background-size: 100% 100%;
    background-repeat: no-repeat;
    pointer-events: none;
    z-index: 0;
    animation: twinkle 3s ease-in-out infinite reverse;
    opacity: 0.6;
  }

  /* Twinkling animation */
  @keyframes twinkle {
    0%,
    100% {
      opacity: 0.6;
    }
    50% {
      opacity: 0.8;
    }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    body::before,
    body::after {
      animation: none;
      opacity: 0.6;
    }
  }

  /* Ensure content is above the background */
  body > * {
    position: relative;
    z-index: 1;
  }

  /* Typography - Montserrat for headings, Instrument Sans for body */
  :where(h1, h2, h3, h4, h5, h6) {
    font-family: var(--font-montserrat), 'helvetica-neue', 'arial', sans-serif;
    font-weight: 900;
    text-transform: uppercase;
    line-height: var(--line-height-tight);
    color: var(--color-text-primary);
    letter-spacing: 0.02em;
  }

  h1 {
    font-size: var(--font-size-xl);
  }

  h2 {
    font-size: var(--font-size-lg);
  }

  h3 {
    font-size: var(--font-size-base);
  }

  h4 {
    font-size: var(--font-size-sm);
  }

  p {
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
    color: var(
      --color-text-primary
    ); /* Changed from text-secondary to primary for better contrast */
    letter-spacing: 0.01em;
    font-weight: 400;
  }

  /* Links */
  a {
    color: var(--color-text-primary);
    transition:
      opacity var(--transition-fast, 150ms ease-in-out),
      color var(--transition-fast, 150ms ease-in-out);
  }

  a:hover {
    color: var(--color-accent-pink);
    opacity: 1;
  }

  a:focus-visible {
    outline: var(--focus-outline-width, 3px) solid var(--color-accent-pink);
    outline-offset: var(--focus-outline-offset, 3px);
    border-radius: 2px;
  }

  /* Form Elements */
  :where(input, textarea) {
    font-family: var(--font-montserrat), 'helvetica-neue', 'arial', sans-serif;
    font-size: var(--font-size-sm);
    line-height: var(--line-height-normal);
    border: none;
    border-inline-start: 5px solid var(--color-accent-pink);
    outline: none;
    background-color: rgba(255, 255, 255, 0.1);
    color: var(--color-text-primary);
    transition:
      background-color var(--transition-base),
      color var(--transition-base),
      border-color var(--transition-base);
  }

  :where(input:focus-visible, textarea:focus-visible) {
    outline: var(--focus-outline-width, 3px) solid var(--color-accent-pink);
    background-color: rgba(255, 255, 255, 0.15);
    color: var(--color-text-primary);
    border-color: var(--color-accent-pink);
    box-shadow: 0 0 0 1px var(--color-accent-pink);
  }

  input {
    width: 100%;
    min-height: 55px;
    padding-block: var(--spacing-sm);
    padding-inline: var(--spacing-md);
  }

  textarea {
    display: block;
    width: 100%;
    min-height: 100px;
    padding-block: var(--spacing-sm);
    padding-inline: var(--spacing-md);
    resize: vertical;
  }

  textarea + span {
    inset-inline-start: 0;
    min-height: 100px;
  }

  button {
    width: 50%;
    margin-inline: auto;
    padding-block: var(--spacing-md);
    padding-inline: var(--spacing-md);
    background-color: var(--color-accent-pink);
    color: var(--color-text-primary);
    border: 3px solid var(--color-accent-pink);
    font-family: var(--font-montserrat);
    font-size: var(--font-size-lg);
    line-height: var(--line-height-normal);
    cursor: pointer;
    transition:
      background-color var(--transition-base),
      color var(--transition-base),
      border-color var(--transition-base),
      transform var(--transition-fast),
      box-shadow var(--transition-base);
  }

  button:not(:disabled):hover {
    transform: translateY(-2px);
  }

  button:not(:disabled):active {
    transform: translateY(0);
  }

  button:focus-visible {
    outline: var(--focus-outline-width, 3px) solid var(--color-accent-pink);
    outline-offset: var(--focus-outline-offset, 3px);
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled:hover {
    background-color: rgba(255, 20, 147, 0.3);
    transform: none;
  }
}

@layer components {
}

@layer utilities {
  /* Screen reader only utility */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* CSS Scroll-Driven Animations (Modern Browsers) */
  @supports (animation-timeline: scroll()) {
    .scroll-fade-in {
      animation: fadeInScroll linear;
      animation-timeline: view();
      animation-range: entry 0% entry 50%;
    }

    @keyframes fadeInScroll {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  }

  /* Stagger animation utility */
  .stagger-children > * {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease-out,
      transform 0.6s ease-out;
  }

  .stagger-children[data-visible='true'] > *:nth-child(1) {
    transition-delay: 0ms;
  }
  .stagger-children[data-visible='true'] > *:nth-child(2) {
    transition-delay: 100ms;
  }
  .stagger-children[data-visible='true'] > *:nth-child(3) {
    transition-delay: 200ms;
  }
  .stagger-children[data-visible='true'] > *:nth-child(4) {
    transition-delay: 300ms;
  }
  .stagger-children[data-visible='true'] > *:nth-child(5) {
    transition-delay: 400ms;
  }
  .stagger-children[data-visible='true'] > *:nth-child(n) {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Override lightbox close button padding */
.yarl__button {
  width: 64px;
  padding: var(--spacing-md);
}

.yarl__button_close {
  top: var(--spacing-md) !important;
  right: var(--spacing-md) !important;
  padding: var(--spacing-sm);
}
